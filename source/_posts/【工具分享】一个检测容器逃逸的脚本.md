---
title: ã€å·¥å…·åˆ†äº«ã€‘ä¸€ä¸ªæ£€æµ‹å®¹å™¨é€ƒé€¸çš„è„šæœ¬
date: 2022-03-18 16:44:46
id: 220318-164446
img: https://cdn.jsdelivr.net/gh/teamssix/BlogImages/imgs/202203181518954.png
tags:
- äº‘å®‰å…¨
- å®¹å™¨
- å®¹å™¨é€ƒé€¸
categories:
- å·¥å…·åˆ†äº«
---

# ä»‹ç»

æœ€è¿‘æäº†ä¸ªæ£€æµ‹ Docker å®¹å™¨é€ƒé€¸çš„è„šæœ¬ï¼Œç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç§æ–¹æ³•çš„æ£€æµ‹ï¼š

1. å¤„äºç‰¹æƒæ¨¡å¼
2. æŒ‚è½½äº† Docker Socket
3. æŒ‚è½½äº† Procfs
4. æŒ‚è½½äº†å®¿ä¸»æœºæ ¹ç›®å½•
5. å¼€å¯äº† Docker è¿œç¨‹ API è®¿é—®æ¥å£
6. CVE-2016-5195 DirtyCow è„ç‰›æ¼æ´
7. CVE-2020-14386 
8. CVE-2022-0847 DirtyPipe

é¡¹ç›®åœ°å€ï¼šhttps://github.com/teamssix/container-escape-check

æ„Ÿè§‰è¿˜ä¸é”™çš„å¸ˆå‚…ä»¬å¯ä»¥ç‚¹ä¸ªå°æ˜Ÿæ˜Ÿ ğŸŒŸ

å¯¹äºæ£€æµ‹çš„åŸç†å¯ä»¥çœ‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼šhttps://zone.huoxian.cn/d/990

# ä½¿ç”¨

åœ¨ Docker å®¹å™¨ä¸­ä¸€é”®è¿è¡Œï¼š

```
wget https://raw.githubusercontent.com/teamssix/container-escape-check/main/container-escape-check.sh | bash
```

æˆ–è€…å…‹éš†é¡¹ç›®åˆ°å®¹å™¨ä¸­è¿è¡Œï¼š

```
git clone https://github.com/teamssix/container-escape-check.git
cd container-escape-check
chmod +x container-escape-check.sh
./container-escape-check.sh
```

![](https://cdn.jsdelivr.net/gh/teamssix/BlogImages/imgs/202203181518954.png)

# æ³¨æ„ï¼š

* è¿™ä¸ªè„šæœ¬éœ€è¦åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ
* è¿™é‡Œçš„æ£€æµ‹æ–¹æ³•å¤§å¤šæ˜¯åŸºäºæˆ‘è‡ªå·±çš„ç»éªŒï¼Œå¯èƒ½ä¼šå­˜åœ¨æ£€æµ‹è¯¯æ£€æˆ–è€…æ¼æ£€çš„æƒ…å†µï¼Œå¦‚æœæ‚¨å‘ç°äº†è¿™ç§æƒ…å†µï¼Œæ¬¢è¿æ Issue
* ç”±äºæœ‰çš„é€ƒé€¸æ–¹æ³•éœ€è¦æ ¹æ®ç›®æ ‡ Docker çš„ç‰ˆæœ¬å»åˆ¤æ–­ï¼Œè¿™é‡Œæˆ‘æš‚æ—¶è¿˜æ²¡æƒ³åˆ°ä»å®¹å™¨å†…éƒ¨è·å– Docker ç‰ˆæœ¬çš„æ–¹æ³•ï¼Œå› æ­¤è„šæœ¬æš‚æ—¶è¿˜ä¸æ”¯æŒè¿™å—å„¿çš„æ£€æµ‹ã€‚

>  æ›´å¤šä¿¡æ¯æ¬¢è¿å…³æ³¨æˆ‘çš„ä¸ªäººå¾®ä¿¡å…¬ä¼—å·ï¼šTeamsSix

![img](https://cdn.jsdelivr.net/gh/teamssix/BlogImages/imgs/TeamsSix_Subscription_Logo2.png)
