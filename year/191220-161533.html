<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="ã€Python å­¦ä¹ ç¬”è®°ã€‘å¤šè¿›ç¨‹çˆ¬è™«"><meta name="keywords" content="Python,å¤šè¿›ç¨‹,åˆ†å¸ƒå¼"><meta name="author" content="Teams Six,undefined"><meta name="copyright" content="Teams Six"><title>ã€Python å­¦ä¹ ç¬”è®°ã€‘å¤šè¿›ç¨‹çˆ¬è™«ã€Teams Sixã€‘</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="icon" href="/favicon.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== '') {
        alert('å¯†ç é”™è¯¯ï¼');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.json","languages":{"hits_empty":"local_search.hits_empty"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  }
}</script></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="æ–‡ç« ç›®å½•">ç«™ç‚¹æ¦‚è§ˆ</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">ç›®å½•</div><div class="sidebar-toc-progress"><span class="progress-notice">æ‚¨å·²é˜…è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0x00-å‰è¨€"><span class="toc-number">1.</span> <span class="toc-text">0x00 å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x01-ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«"><span class="toc-number">2.</span> <span class="toc-text">0x01 ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x02-å‡†å¤‡å·¥ä½œ"><span class="toc-number">3.</span> <span class="toc-text">0x02 å‡†å¤‡å·¥ä½œ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x03-æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•"><span class="toc-number">4.</span> <span class="toc-text">0x03 æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x04-æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•"><span class="toc-number">5.</span> <span class="toc-text">0x04 æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x05-å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”"><span class="toc-number">6.</span> <span class="toc-text">0x05 å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">Teams Six</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/teamssix" target="_blank">GitHub<i class="icon-dot bg-color3"></i></a><a class="links-button button-hover" href="https://me.csdn.net/qq_37683287" target="_blank">CSDN<i class="icon-dot bg-color9"></i></a><a class="links-button button-hover" href="https://twitter.com/TeamsSix" target="_blank">Twitter<i class="icon-dot bg-color8"></i></a><a class="links-button button-hover" href="https://instagram.com/TeamsSix" target="_blank">Instagram<i class="icon-dot bg-color8"></i></a><a class="links-button button-hover" href="https://www.youtube.com/channel/UCKeJhJYi_tmXWETzVxKbSvA" target="_blank">YouTube<i class="icon-dot bg-color7"></i></a><a class="links-button button-hover" href="https://space.bilibili.com/148389186" target="_blank">BiliBili<i class="icon-dot bg-color5"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">æ—¥å¿—</span><span class="pull-bottom">48</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">æ ‡ç­¾</span><span class="pull-bottom">69</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">åˆ†ç±»</span><span class="pull-bottom">13</span></a></div><div class="friend-link"><a class="friend-link-text" target="_blank">æ¬¢è¿å…³æ³¨æœ¬ç«™å¾®ä¿¡å…¬ä¼—å·ï¼šTeamsSix</a><a class="friend-link-text" href="https://www.loongten.com/" target="_blank">å‹æƒ…é“¾æ¥ï¼šloongten</a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">é¦–é¡µ</a><a class="menu-item" href="/tags">æ ‡ç­¾</a><a class="menu-item" href="/categories">åˆ†ç±»</a><a class="menu-item" href="/archives">å½’æ¡£</a></nav><div class="right-info"><a class="title-name" href="/">Teams Six</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">ã€Python å­¦ä¹ ç¬”è®°ã€‘å¤šè¿›ç¨‹çˆ¬è™«</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> å‘è¡¨äº 2019-12-20 | æ›´æ–°äº 2019-12-24</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/Python-å…¶ä»–ç›¸å…³ç¬”è®°/">Python å…¶ä»–ç›¸å…³ç¬”è®°</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Python/">Python</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/å¤šè¿›ç¨‹/">å¤šè¿›ç¨‹</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/åˆ†å¸ƒå¼/">åˆ†å¸ƒå¼</a></div></div></div><div class="main-content"><h1 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h1><p>å‰æ®µæ—¶é—´å­¦ä¹ äº†å¤šçº¿ç¨‹ï¼Œä½†åœ¨å®é™…çš„æƒ…å†µä¸­å¯¹äºå¤šçº¿ç¨‹çš„é€Ÿåº¦å®åœ¨ä¸æ»¡æ„ï¼Œæ‰€ä»¥ä»Šå¤©å°±æ¥å­¦å­¦å¤šè¿›ç¨‹åˆ†å¸ƒå¼çˆ¬è™«ï¼Œåœ¨è¿™é‡Œæ„Ÿè°¢è«çƒ¦çš„Pythonæ•™ç¨‹ã€‚</p>
<h1 id="0x01-ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«"><a href="#0x01-ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«" class="headerlink" title="0x01 ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«"></a>0x01 ä»€ä¹ˆæ˜¯å¤šè¿›ç¨‹çˆ¬è™«</h1><p>åœ¨è®²è¿°å¤šè¿›ç¨‹ä¹‹å‰ï¼Œå…ˆæ¥å›é¡¾ä¸€ä¸‹ä¹‹å‰å­¦ä¹ çš„å¤šçº¿ç¨‹ã€‚</p>
<a id="more"></a>
<p>å¯¹äºå¤šçº¿ç¨‹å¯ä»¥ç®€å•çš„ç†è§£æˆè¿è¾“å¿«é€’çš„è´§è½¦ï¼Œè™½ç„¶åœ¨æ•´ä¸ªè¿è¾“å¿«é€’çš„é€”ä¸­æœ‰å¾ˆå¤šè´§è½¦å‚ä¸è¿è¾“ï¼Œä½†å¿«é€’åˆ°ä½ æ‰‹ä¸­çš„æ—¶é—´å¹¶ä¸ä¼šå› ä¸ºè´§è½¦çš„æ•°é‡å¢åŠ è€Œå˜åŒ–å¤šå°‘ï¼Œç”šè‡³å¯èƒ½ä¼šå› ä¸ºå‚ä¸è¿è¾“çš„è´§è½¦æ•°é‡è¿‡å¤šï¼Œå¯¼è‡´é€è´§æ—¶é—´å˜æ…¢ï¼Œå› ä¸ºè´§ç‰©åœ¨ä¸æ–­çš„ä¸Šè´§å¸è´§ã€‚<br>å½“ç„¶ç°å®ä¸­å¯ä¸ä¼šæœ‰äººè¿™ä¹ˆå¹²ï¼Œç„¶è€Œåœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œæœ‰æ—¶å´ä¼šçŠ¯è¿™ç§é”™è¯¯ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´å¤šçº¿ç¨‹å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ã€‚</p>
<p>å¦‚æœæœ‰æ“ä½œç³»ç»Ÿçš„åŸºç¡€ï¼Œåˆ™å¯¹äºçº¿ç¨‹ä¸è¿›ç¨‹çš„ç†è§£ä¼šæ›´æ·±åˆ»äº›ï¼Œè¿™é‡Œç»§ç»­å‚ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œå¯¹äºçº¿ç¨‹å¯ä»¥ç®€å•çš„ç†è§£æˆä¸€ä¸ªçº¿ç¨‹å°±æ˜¯ä¸€ä¸ªè´§è½¦ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹åˆ™æ˜¯ä¸€æ•´æ¡å¿«é€’è¿è¾“çº¿è·¯ä¸Šçš„è´§è½¦é›†åˆï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªè¿›ç¨‹åŒ…å«äº†å¤šä¸ªçº¿ç¨‹ã€‚</p>
<p>å¦‚æœåœ¨åªæœ‰ä¸€ä¸ªå¿«é€’éœ€è¦è¿è¾“çš„æ—¶å€™ï¼Œä½¿ç”¨çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«æˆ–è®¸ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœæœ‰åä»¶å¿«é€’ã€ç™¾ä»¶å¿«é€’ï¼Œä½¿ç”¨å¤šè¿›ç¨‹æ— ç–‘èƒ½å¤Ÿæå¤§çš„æé«˜æ•ˆç‡ã€‚</p>
<h1 id="0x02-å‡†å¤‡å·¥ä½œ"><a href="#0x02-å‡†å¤‡å·¥ä½œ" class="headerlink" title="0x02 å‡†å¤‡å·¥ä½œ"></a>0x02 å‡†å¤‡å·¥ä½œ</h1><p>åœ¨å¼€å§‹å­¦ä¹ å¤šè¿›ç¨‹ä¹‹å‰ï¼Œå…ˆæ¥ç†ä¸€ä¸‹çˆ¬è™«æ€è·¯ï¼Œè¿™é‡Œæ‹¿çˆ¬å–æˆ‘çš„åšå®¢æ–‡ç« ä¸¾ä¾‹ï¼Œé¦–å…ˆå…ˆç”¨ requests è®¿é—® temassix.comï¼Œä¹‹ååˆ©ç”¨ BeautifulSoup è§£æå‡ºæˆ‘åšå®¢ä¸­çš„æ–‡ç« é“¾æ¥ï¼Œæ¥ç€å†åˆ©ç”¨ requests è®¿é—®æ–‡ç« ï¼Œä¾¿å®Œæˆäº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ã€‚</p>
<p>æ¥ä¸‹æ¥éœ€è¦ç”¨åˆ°çš„æ¨¡å—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time    <span class="comment">#æµ‹è¯•çˆ¬å–æ—¶é—´</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process   <span class="comment">#å¤šè¿›ç¨‹æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥éœ€è¦ç”¨åˆ°çš„ä¸€äº›å­å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">req_url</span><span class="params">(url)</span>:</span></span><br><span class="line">    r = requests.get(url)    <span class="comment">#è®¿é—®url</span></span><br><span class="line">    <span class="keyword">return</span>(r.text)    <span class="comment">#è¿”å›html</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">soup_url</span><span class="params">(html)</span>:</span></span><br><span class="line">	url_list = []</span><br><span class="line">	soup = BeautifulSoup(html, <span class="string">'html.parser'</span>)    <span class="comment">#è§£æè¿”å›çš„html</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> soup.select(<span class="string">'.post-title'</span>):</span><br><span class="line">		url_list.append(<span class="string">'https://www.teamssix.com&#123;&#125;'</span>.format(i[<span class="string">'href'</span>]))    <span class="comment">#æ‹¼æ¥åšå®¢æ–‡ç« çš„url</span></span><br><span class="line">	<span class="keyword">return</span> (url_list)    <span class="comment">#è¿”å›åšå®¢æ–‡ç« urlæ•°ç»„</span></span><br></pre></td></tr></table></figure>

<h1 id="0x03-æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•"><a href="#0x03-æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•" class="headerlink" title="0x03 æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•"></a>0x03 æµ‹è¯•æ™®é€šçˆ¬å–æ–¹æ³•</h1><p>è¿™é‡Œå…ˆä½¿ç”¨æ™®é€šçˆ¬å–çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å•çº¿ç¨‹æµ‹è¯•ä¸€ä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œä¸‹é¢æåˆ°çš„å•çº¿ç¨‹å¤„ç†æ–¹æ³•ï¼Œå‡†ç¡®çš„æ¥è¯´æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹ï¼ŒåŒæ ·çš„ï¼Œä¸‹é¢æåˆ°çš„å¤šè¿›ç¨‹å‡†ç¡®çš„è¯´æ³•æ˜¯å¤šè¿›ç¨‹å•çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹å‡†ç¡®çš„è¯´åˆ™æ˜¯å•è¿›ç¨‹å¤šçº¿ç¨‹ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯çˆ¬å–è€—æ—¶æ ¹æ®è‡ªå·±çš„ç½‘ç»œæƒ…å†µè€Œå®šï¼Œå³ä½¿ç¢°åˆ°å¤šè¿›ç¨‹è€—æ—¶å‡ ç™¾ç§’è€Œå•çº¿ç¨‹è€—æ—¶å‡ åç§’ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œè¿™ç§æƒ…å†µæ˜¯å› ä¸ºç½‘ç»œç¯å¢ƒè¾ƒå·®é€ æˆçš„ï¼Œæ‰€ä»¥ç¢°åˆ°ç»“æœå‡ºå…¥å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥å¤šè¯•å‡ æ¬¡ï¼Œæ’é™¤å¶ç„¶æ€§ï¼Œä¸‹é¢å°±æ¥ä¸Šä»£ç ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	<span class="comment"># å¼€å§‹å•çº¿ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	url = <span class="string">'https://www.teamssix.com'</span></span><br><span class="line">	html = req_url(url)</span><br><span class="line">	home_page = soup_url(html)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> home_page:</span><br><span class="line">		req_url(i)</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå•çº¿ç¨‹ï¼š'</span>,end_time - start_time)</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å•çº¿ç¨‹ï¼š 29.181440114974976</span><br></pre></td></tr></table></figure>

<p>å•çº¿ç¨‹èŠ±è´¹äº† 29 ç§’çš„æ—¶é—´ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨å¤šè¿›ç¨‹æµ‹è¯•ä¸€ä¸‹</p>
<h1 id="0x04-æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•"><a href="#0x04-æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•" class="headerlink" title="0x04 æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•"></a>0x04 æµ‹è¯•å¤šè¿›ç¨‹çˆ¬å–æ–¹æ³•</h1><p>é€šè¿‡å­¦ä¹ å‘ç°å¤šè¿›ç¨‹çš„ç”¨æ³•å’Œå¤šçº¿ç¨‹è¿˜æ˜¯æŒºç›¸ä¼¼çš„ï¼Œæ‰€ä»¥å°±ç›´æ¥æ”¾ä»£ç å§ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹å‚è€ƒæ–‡ç« ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	<span class="comment"># å¼€å§‹å¤šè¿›ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	url = <span class="string">'https://www.teamssix.com'</span></span><br><span class="line">	pool = Pool(<span class="number">4</span>)</span><br><span class="line">	home_page = soup_url(req_url(url))</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> home_page:</span><br><span class="line">		pool.apply_async(req_url, args=(i,))</span><br><span class="line">	pool.close()</span><br><span class="line">	pool.join()</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå¤šè¿›ç¨‹ï¼š'</span>,end_time - start_time)</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤šè¿›ç¨‹ï¼š 12.674117088317871</span><br></pre></td></tr></table></figure>

<p>å¤šè¿›ç¨‹ä»…ç”¨äº† 12 ç§’å°±å®Œæˆäº†ä»»åŠ¡ï¼Œç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå‘ç°ä½¿ç”¨å¤šè¿›ç¨‹åŸºæœ¬ä¸Šèƒ½æ¯”å•çº¿ç¨‹å¿«2å€ä»¥ä¸Šã€‚</p>
<p>ä¸ºäº†çœ‹åˆ°å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„å·®è·ï¼Œè¿™é‡Œä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†äº†ä¸€ä¸‹ä¸Šé¢çš„æ“ä½œï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	<span class="comment">#å¼€å§‹å¤šçº¿ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	url = <span class="string">'https://www.teamssix.com'</span></span><br><span class="line">	thread_list = []</span><br><span class="line">	home_page = soup_url(req_url(url))</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> home_page:</span><br><span class="line">		t = threading.Thread(target = req_url, args=(i,))</span><br><span class="line">		thread_list.append(t)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> thread_list:</span><br><span class="line">		i.start()</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> thread_list:</span><br><span class="line">		i.join()</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå¤šçº¿ç¨‹ï¼š'</span>, end_time - start_time)</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤šçº¿ç¨‹ï¼š 11.685778141021729</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°è¿™é‡Œå¯èƒ½ä¼šè§‰ç€ï¼Œè¿™å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çˆ¬è™«çš„æ—¶é—´ä¹Ÿå·®ä¸å¤šå‘€ï¼Œç„¶è€Œäº‹å®å¹¶éé‚£ä¹ˆç®€å•ã€‚</p>
<p>ç”±äºçˆ¬è™«çš„å¤§å¤šæ•°æ—¶é—´éƒ½è€—åœ¨äº†è¯·æ±‚ç­‰å¾…å“åº”ä¸­ï¼Œæ‰€ä»¥åœ¨çˆ¬è™«çš„æ—¶å€™ä½¿ç”¨å¤šçº¿ç¨‹å¥½åƒå¿«äº†ä¸å°‘ï¼Œä½†æˆ‘ä»¥å‰å†™è¿‡ä¸€ä¸ªç¬”è®°ï¼š<a href="https://www.teamssix.com/year/191104-101112.html">ä¸ä¸€å®šæœ‰æ•ˆç‡GIL</a><br>åœ¨è¿™ç¯‡æ–‡ç« é‡Œæ¼”ç¤ºäº†å¦‚æœä½¿ç”¨å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡ï¼Œæœ‰æ—¶å¤šçº¿ç¨‹åè€Œä¼šæ¯”å•çº¿ç¨‹æ…¢äº†ä¸å°‘ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±çœ‹çœ‹å¤šè¿›ç¨‹å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡çš„è¡¨ç°ã€‚</p>
<h1 id="0x05-å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”"><a href="#0x05-å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”" class="headerlink" title="0x05 å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”"></a>0x05 å¤„ç†å¯†é›†è®¡ç®—ä»»åŠ¡è€—æ—¶å¯¹æ¯”</h1><p>ç›´æ¥ä¸Šä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time  <span class="comment"># æµ‹è¯•çˆ¬å–æ—¶é—´</span></span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">math</span><span class="params">(i)</span>:</span></span><br><span class="line">	result2 = <span class="number">2</span> ** i    <span class="comment">#æ‰§è¡Œå¹‚è¿ç®—</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">	<span class="comment">#å¼€å§‹å•çº¿ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">1000000001</span>, <span class="number">250000000</span>):</span><br><span class="line">		math(i)</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå•çº¿ç¨‹ï¼š'</span>,end_time - start_time)</span><br><span class="line"></span><br><span class="line">	<span class="comment">#å¼€å§‹å¤šè¿›ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	pool = Pool(<span class="number">4</span>)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">1000000001</span>, <span class="number">250000000</span>):</span><br><span class="line">		pool.apply_async(math, args=(i,))</span><br><span class="line">	pool.close()</span><br><span class="line">	pool.join()</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå¤šè¿›ç¨‹ï¼š'</span>,end_time - start_time)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># å¼€å§‹å¤šçº¿ç¨‹</span></span><br><span class="line">	start_time = time.time()</span><br><span class="line">	thread_list = []</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">1000000001</span>, <span class="number">250000000</span>):</span><br><span class="line">		t = threading.Thread(target = math, args=(i,))</span><br><span class="line">		thread_list.append(t)</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> thread_list:</span><br><span class="line">		i.start()</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> thread_list:</span><br><span class="line">		i.join()</span><br><span class="line">	end_time = time.time()</span><br><span class="line">	print(<span class="string">'\nå¤šçº¿ç¨‹ï¼š'</span>, end_time - start_time)</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å•çº¿ç¨‹ï¼š 20.495169162750244</span><br><span class="line"></span><br><span class="line">å¤šè¿›ç¨‹ï¼š 11.645867347717285</span><br><span class="line"></span><br><span class="line">å¤šçº¿ç¨‹ï¼š 22.07299304008484</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¿è¡Œç»“æœå¯ä»¥å¾ˆæ˜æ˜¾çœ‹å‡ºï¼Œå•çº¿ç¨‹ä¸å¤šçº¿ç¨‹çš„è€—æ—¶å·®è·ä¸å¤§ï¼Œä½†æ˜¯å¤šè¿›ç¨‹çš„è€—æ—¶ä¸ä¹‹ç›¸æ¯”å‡ ä¹å¿«äº†ä¸€å€ï¼Œæ‰€ä»¥å¹³æ—¶ä¸ºäº†æé«˜æ•ˆç‡æ˜¯ä½¿ç”¨å¤šçº¿ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹ï¼Œä¹Ÿå°±å¾ˆæ¸…æ¥šäº†ã€‚</p>
<p>ä½†å¦‚æœå¹³æ—¶æƒ³æé«˜çˆ¬è™«æ•ˆç‡æ˜¯ç”¨å¤šçº¿ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹å‘¢ï¼Ÿæ¯•ç«Ÿä»–ä»¬æ•ˆç‡éƒ½å·®ä¸å¤šï¼Œé‚£ä¹ˆåç¨‹äº†è§£ä¸€ä¸‹ğŸ§</p>
<blockquote>
<p>æ›´å¤šä¿¡æ¯æ¬¢è¿å…³æ³¨æˆ‘çš„ä¸ªäººå¾®ä¿¡å…¬ä¼—å·ï¼šTeamsSix<br>å‚è€ƒæ–‡ç« ï¼š<br><a href="https://morvanzhou.github.io/tutorials/data-manipulation/scraping/4-01-distributed-scraping/" target="_blank" rel="noopener">https://morvanzhou.github.io/tutorials/data-manipulation/scraping/4-01-distributed-scraping/</a><br><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017628290184064" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/1016959663602400/1017628290184064</a></p>
</blockquote>
</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">æœ¬æ–‡ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Teams Six</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">æœ¬æ–‡é“¾æ¥: </span><span class="post-copyright-info"><a href="https://www.teamssix.com/year/191220-161533.html">https://www.teamssix.com/year/191220-161533.html</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://www.teamssix.com">Teams Six</a>ï¼</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/year/191220-161745.html"><i class="fas fa-angle-left">&nbsp;</i><span>ã€Python å­¦ä¹ ç¬”è®°ã€‘ å¼‚æ­¥IO (asyncio) åç¨‹</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/year/191206-172901.html"><span>ã€æ¼æ´å¤ç°ã€‘DNSåŸŸä¼ é€æ¼æ´</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2017 ï½ 2020 By Teams Six</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>